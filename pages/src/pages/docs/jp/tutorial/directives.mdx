import { Link } from 'react-router-dom'

# 3. ディレクティブ

## 3.1. ディレクティブとは

「ディレクティブ(directive)」とはIAM.mmlコンパイラへの指令です。
また、ディレクティブ行とは、`#`から始まる行のことです。
主に、すべてのパートの設定を変更するために使います。

ディレクティブはディレクティブ行を境に設定が適用されます。
そのため、「同じ楽譜を繰り返すのだから、このパートは予め先に書いておこう」と言って書かれたような演奏時刻の同期が取れていないパートがあるときは、ディレクティブを使って良いか注意しましょう。

## 3.2. #tempo

#tempoディレクティブはすべてのパートのテンポを変更します。
`#tempo`+`空白`+`1から1000までの整数値`を連ねます。

```mml
; この行を境にすべてのパートのテンポを128に設定。
#tempo 128

part1 o4 [gfe]2
part2 o3 [cde]2

; WARN: あえてpart2の楽譜をここに書いて同期をずらす。
; この行のテンポは128。
part2 [ced]2

; この行を境にすべてのパートのテンポを89に設定
; WARN: 演奏時刻ではなく行を基準にテンポを設定するため、
; 演奏時刻の同期がされていないと意図しないテンポ変化になる。
#tempo 89

; WARN: この行のテンポは89。
; 8行目のpart2と同時に演奏されるが、それぞれのテンポが異なる。
part1 [>c<gf]2
```

## 3.3. #denom

#denomディレクティブは拍子記号の分母(1拍が何分音符か)を設定します。
`#denom`+`空白`+`1から128までの整数値`を連ねます。

```mml
; 標準では1拍は四分音符が基準になっている。
part cdef

; 1拍の基準を8に設定する。
#denom 8

; 1拍の基準が変わったため、テンポが変わる。
part cdef
```

## 3.4. #key

#keyディレクティブはすべてのパートの調を変更します。
`#key`+`空白`+`変化記号が付く音名`+`変化記号`を連ねます。

```mml
#tempo 60
#key cf+

base o3v0.2 [d<abf gdga]3

melody1 o5v0.2 [r1]2
melody1 fedc <bab>c dc<ba gfge

melody2 o5v0.2 [r1]4
melody2 fedc <bab>c
```

<div className="center">
  <Link to="/docs/jp/tutorial/instrument/">次章へ進む</Link>
</div>
